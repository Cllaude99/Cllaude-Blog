---
emoji: ğŸ¥¯
title: 'ë°”í…€ ì‹œíŠ¸ë¥¼ êµ¬í˜„í•˜ë©° ê³ ë¯¼í–ˆë˜ ì '
date: '2025-04-30'
categories: featured-Dev
---

## ğŸ¤” ëª¨ë°”ì¼ í™˜ê²½ì—ì„œëŠ” ì–´ë–»ê²Œ ë³´ì—¬ì£¼ë©´ ì¢‹ì„ê¹Œ?

> ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ” ëª¨ë°”ì¼ê³¼ ë°ìŠ¤í¬í†± í™˜ê²½ì„ ëª¨ë‘ ì§€ì›í•˜ëŠ” ë°˜ì‘í˜• ì›¹ ì„œë¹„ìŠ¤ì´ë‹¤.

ë°ìŠ¤í¬íƒ‘ê³¼ ë‹¬ë¦¬ ëª¨ë°”ì¼ í™˜ê²½ì€ í™”ë©´ í¬ê¸°ì— ì œì•½ì´ ìˆì–´, ì§€ë„ì™€ ê°™ì€ ë©”ì¸ ì½˜í…ì¸ ì™€ í•¨ê»˜ ìƒì„¸ ì •ë³´ë¥¼ ì–´ë–»ê²Œ íš¨ê³¼ì ìœ¼ë¡œ ë³´ì—¬ì¤„ì§€ê°€ í° ê³ ë¯¼ì´ì—ˆë‹¤. ì§€ë„ì™€ ë™ì‹œì— ì¥ì†Œ ëª©ë¡ì´ë‚˜ íˆ¬í‘œ ì •ë³´ì²˜ëŸ¼ ì¤‘ìš”í•œ ì •ë³´ë„ í•¨ê»˜ ì œê³µí•´ì•¼ í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

ë°ìŠ¤í¬í†±ì—ì„œëŠ” í™”ë©´ì„ ê·¸ë¦¬ë“œë¡œ ë‚˜ëˆ„ì–´ ì§€ë„ì™€ ì •ë³´ë¥¼ ë‚˜ë€íˆ ë°°ì¹˜í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í–ˆì§€ë§Œ, ëª¨ë°”ì¼ì—ì„œëŠ” ê·¸ëŸ° ë ˆì´ì•„ì›ƒì´ ë¶ˆê°€ëŠ¥í–ˆë‹¤.

> ê·¸ë˜ì„œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì ë°”í…€ì‹œíŠ¸ë¥¼ ë„ì…í•˜ì˜€ë‹¤.

ë°”í…€ ì‹œíŠ¸ëŠ” í™”ë©´ í•˜ë‹¨ì—ì„œ ìœ„ë¡œ ëŒì–´ì˜¬ë¦´ ìˆ˜ ìˆëŠ” íŒ¨ë„ë¡œ, ëª¨ë°”ì¼ ì•±ì—ì„œ ìì£¼ ë³¼ ìˆ˜ ìˆëŠ” UI íŒ¨í„´ì´ë‹¤. ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì§€ë„ëŠ” ë°°ê²½ìœ¼ë¡œ ë‘ê³ , ì‚¬ìš©ìê°€ í•„ìš”ì— ë”°ë¼ ì •ë³´ë¥¼ ë” ë§ì´ ë˜ëŠ” ì ê²Œ ë³¼ ìˆ˜ ìˆë„ë¡ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.

`ë°”í…€ì‹œíŠ¸ ì˜ˆì‹œ`

<img src="./bottomsheet.webp" alt="bottomsheet" width="200" />
<br /> <br/>

> í•˜ì§€ë§Œ Reactì—ì„œ ë°”í…€ ì‹œíŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ìƒê°ë³´ë‹¤ ê°„ë‹¨í•˜ì§€ ì•Šì•˜ë‹¤.

íŠ¹íˆ ë“œë˜ê·¸ ì œìŠ¤ì²˜ ì²˜ë¦¬, ë†’ì´ ì¡°ì ˆ, ê·¸ë¦¬ê³  ë‹¤ì–‘í•œ ë·°í¬íŠ¸ í¬ê¸°ì— ëŒ€ì‘í•˜ëŠ” ë°˜ì‘í˜• ë™ì‘ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ê¹Œë‹¤ë¡œì› ë‹¤.

## ğŸ› ï¸ ë°”í…€ ì‹œíŠ¸ êµ¬í˜„ì˜ ì—¬ì •

ë°”í…€ ì‹œíŠ¸ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë¨¼ì € ì•„ë˜ì™€ ê°™ì´ ìš”êµ¬ì‚¬í•­ì„ ëª…í™•í•˜ê²Œ ì •ë¦¬í–ˆë‹¤.

- ì‚¬ìš©ìëŠ” ì†ê°€ë½ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ íŒ¨ë„ì„ ëŒì–´ì˜¬ë¦¬ê³  ë‚´ë¦´ ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì™€ ë°©í–¥ì— ì ì‘í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
- ë°”í…€ì‹œíŠ¸ ë‚´ë¶€ ì½˜í…ì¸ ëŠ” ìŠ¤í¬ë¡¤ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.
- ê°œë°œìê°€ í•„ìš”ì— ë”°ë¼ ë°”í…€ì‹œíŠ¸ì˜ ìµœì†Œ/ìµœëŒ€/ì´ˆê¸° ë†’ì´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

ì´ëŸ¬í•œ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ê¸° ìœ„í•´ Reactì˜ í›…ê³¼ DOM ì´ë²¤íŠ¸ë¥¼ í™œìš©í•œ ì ‘ê·¼ ë°©ì‹ì„ ì„ íƒí–ˆë‹¤. ë¨¼ì € ë³µì¡í•œ ë¡œì§ì„ UI ì»´í¬ë„ŒíŠ¸ì™€ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ ì»¤ìŠ¤í…€ í›…ì¸ `useBottomSheet`ë¥¼ ë§Œë“¤ì—ˆë‹¤.

```javascript
export function useBottomSheet({
  minHeight,
  maxHeight,
  initialHeight,
  onHeightChange,
}: UseBottomSheetProps) {
  // dvhë¥¼ í”½ì…€ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
  const dvhToPixels = (dvh: number) => {
    const dvhUnit = window.innerHeight * 0.01;
    return dvh * dvhUnit;
  };

  const [sheetHeight, setSheetHeight] = useState(dvhToPixels(initialHeight));
  const sheetRef = useRef < HTMLDivElement > null;
  const dragHandleRef = useRef < HTMLDivElement > null;
  const startYRef = useRef < number > 0;
  const currentHeightRef = useRef < number > initialHeight;

  // ìƒëµëœ ì½”ë“œ...

  return {
    sheetRef,
    dragHandleRef,
    sheetHeight,
  };
}
```

ìœ„ì˜ useBottomSheet ì»¤ìŠ¤í…€ í›…ì€ ì‚¬ìš©ìì˜ ë“œë˜ê·¸ ì œìŠ¤ì²˜ë¥¼ ê°ì§€í•˜ê³ , ê·¸ì— ë”°ë¼ ë°”í…€ ì‹œíŠ¸ì˜ ë†’ì´ë¥¼ ì¡°ì ˆí•˜ëŠ” ì—­í• ì„ í•œë‹¤. íŠ¹íˆ ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì—ì„œ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ê¸° ìœ„í•´ ëª¨ë°”ì¼ê³¼ ë°ìŠ¤í¬í†± í™˜ê²½ì„ ëª¨ë‘ ê³ ë ¤í•˜ì—¬ í„°ì¹˜ ì´ë²¤íŠ¸ì™€ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë¥¼ í•¨ê»˜ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆë‹¤.

## ğŸ— useBottomSheet í›…ì„ ëœ¯ì–´ë³´ì

> ê·¸ë ‡ë‹¤ë©´, useBottomSheetí›…ì„ ì–´ë–»ê²Œ ë§Œë“¤ì—ˆëŠ”ì§€ ìì„¸í•˜ê²Œ ì‚´í´ë³´ì.

ë¨¼ì € ì•„ë˜ì™€ ê°™ì´ ë“œë˜ê·¸ ì‹œì‘ ì‹œ, ì†ê°€ë½ì´ë‚˜ ë§ˆìš°ìŠ¤ì˜ ìœ„ì¹˜ë¥¼ ê¸°ë¡í•˜ê³  í•„ìš”í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ì˜€ë‹¤.

```javascript
const handleDragStart = useCallback(
  (e: MouseEvent | TouchEvent) => {
    startYRef.current = clientY;
    currentHeightRef.current = sheetHeight;

    document.addEventListener('mousemove', handleDrag);
    document.addEventListener('mouseup', handleDragEnd);
    document.addEventListener('touchmove', handleDrag);
    document.addEventListener('touchend', handleDragEnd);
  },
  [sheetHeight]
);
```

ë˜í•œ 'touches' ì†ì„±ì˜ ì¡´ì¬ ì—¬ë¶€ë¡œ í„°ì¹˜ ì´ë²¤íŠ¸ì™€ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë¥¼ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©ìê°€ ì´ë²¤íŠ¸ë¥¼ ì‹œì‘í•œ ì •í™•í•œ ì§€ì ì—ì„œë¶€í„° ë“œë˜ê·¸ë¥¼ ì¶”ì í•˜ë„ë¡ í•˜ì˜€ìœ¼ë©° ì´ ê³¼ì •ì—ì„œ ì„¤ì •ëœ ìµœì†Œ/ìµœëŒ€ ë†’ì´ë¥¼ ë²—ì–´ë‚˜ì§€ ì•Šë„ë¡ ì œí•œí•˜ì˜€ë‹¤.

```javascript
const handleDrag = useCallback(
  (e: MouseEvent | TouchEvent) => {
    const clientY = 'touches' in e ? e.touches[0].clientY : e.clientY;
    const delta = startYRef.current - clientY;
    const newHeight = currentHeightRef.current + delta;

    if (newHeight < dvhToPixels(minHeight)) {
      setSheetHeight(dvhToPixels(minHeight));
    } else if (newHeight > dvhToPixels(maxHeight)) {
      setSheetHeight(dvhToPixels(maxHeight));
    } else {
      setSheetHeight(newHeight);
    }
  },
  [minHeight, maxHeight]
);
```

ëìœ¼ë¡œ, ë“œë˜ê·¸ê°€ ëë‚˜ë©´ ë“±ë¡ëœ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì œê±°í•˜ì—¬ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ë„ë¡ í•˜ì˜€ë‹¤.

```javascript
const handleDragEnd = useCallback(() => {
  document.removeEventListener('mousemove', handleDrag);
  document.removeEventListener('mouseup', handleDragEnd);
  document.removeEventListener('touchmove', handleDrag);
  document.removeEventListener('touchend', handleDragEnd);
}, [handleDrag]);
```

ì´ë ‡ê²Œ êµ¬í˜„ëœ í›…ì„ ë°”íƒ•ìœ¼ë¡œ, ì‹¤ì œ ë°”í…€ ì‹œíŠ¸ ì»´í¬ë„ŒíŠ¸(BottomSheet)ë¥¼ ì•„ë˜ì™€ ê°™ì´ ë§Œë“¤ì—ˆë‹¤.

### `BottomSheet.tsx`

```javascript
export default function BottomSheet({
  children,
  minHeight = 30,
  maxHeight = 90,
  initialHeight = 50,
  headerHeight = 32,
  onHeightChange,
  isTime = false,
}: BottomSheetProps) {
  const { sheetRef, dragHandleRef, sheetHeight } = useBottomSheet({
    minHeight,
    maxHeight,
    initialHeight,
    headerHeight,
    onHeightChange,
  });

  // vhë¥¼ dvhë¡œ ë³€í™˜
  const heightStyle = `${(sheetHeight / window.innerHeight) * 100}dvh`;

  return (
    <>
      <div
        ref={sheetRef}
        className={`fixed bottom-0 left-0 right-0 ${
          isTime ? 'bg-gray-light' : 'bg-white-default'
        }  rounded-t-[1.25rem] shadow-lg transition-transform z-50 lg:hidden`}
        style={{
          height: heightStyle,
          touchAction: 'none',
        }}
      >
        <div
          ref={dragHandleRef}
          className="flex justify-center w-full pt-3 pb-5 cursor-grab active:cursor-grabbing"
          style={{ height: `${(headerHeight / window.innerHeight) * 100}dvh` }}
        >
          <div className="w-10 h-1 rounded-full bg-gray-normal" />
        </div>
        <div
          className="overflow-y-auto"
          style={{
            height: `calc(100% - ${
              (headerHeight / window.innerHeight) * 100
            }dvh)`,
          }}
        >
          {children}
        </div>
      </div>
    </>
  );
}
```

ìœ„ì˜ ë°”í…€ì‹œíŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ì‹œê°ì ìœ¼ë¡œ ì„¸ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

ë¨¼ì € ì „ì²´ë¥¼ ê°ì‹¸ëŠ” `ì»¨í…Œì´ë„ˆ`ê°€ ìˆë‹¤. ì´ ì»¨í…Œì´ë„ˆëŠ” í™”ë©´ í•˜ë‹¨ì— ê³ ì •ë˜ì–´ ìˆìœ¼ë©°, ì‚¬ìš©ìì˜ ë“œë˜ê·¸ì— ë”°ë¼ ë†’ì´ê°€ ë³€í•œë‹¤.

ìƒë‹¨ì—ëŠ” ì‚¬ìš©ìê°€ ë“œë˜ê·¸í•  ìˆ˜ ìˆëŠ” `í•¸ë“¤`ì´ ìˆìœ¼ë©°, ì´ í•¸ë“¤ì„ í†µí•´ ë°”í…€ ì‹œíŠ¸ì˜ ë†’ì´ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ í•¸ë“¤ ì•„ë˜ì—ëŠ” `ì‹¤ì œ ì½˜í…ì¸ ê°€ í‘œì‹œë˜ëŠ” ì˜ì—­`ì´ ìˆìœ¼ë©°, ì´ ì˜ì—­ì€ ë‚´ìš©ì´ ë§ì„ ê²½ìš° ìŠ¤í¬ë¡¤ì´ ê°€ëŠ¥í•˜ë‹¤.

ë˜í•œ, êµ¬í˜„ ê³¼ì •ì—ì„œ dvh ë‹¨ìœ„ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì—ì„œ ì£¼ì†Œì°½ ë“±ì˜ UI ìš”ì†Œê°€ í‘œì‹œë˜ëŠ” ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ì‹¤ì œ ê°€ìš© í™”ë©´ ë†’ì´ë¥¼ ë” ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ë„ë¡ í•˜ì˜€ë‹¤.

## ğŸ“± ë°”í…€ì‹œíŠ¸ ì‚¬ìš© ì˜ˆì‹œ

> ì´ì œ ìœ„ì—ì„œ êµ¬í˜„í•œ ë°”í…€ì‹œíŠ¸ê°€ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ê³  ìˆëŠ”ì§€ ì‚´í´ë³´ì

ìœ„ì—ì„œ êµ¬í˜„í•œ ë°”í…€ì‹œíŠ¸ëŠ” ì£¼ë¡œ ì§€ë„ì™€ í•¨ê»˜ ì •ë³´ë¥¼ í‘œì‹œí•´ì•¼ í•˜ëŠ” í™”ë©´ì—ì„œ ì‚¬ìš©ë˜ì—ˆë‹¤.

> ë¨¼ì € ìœ„ì¹˜ ì •ë³´ ì…ë ¥í™”ë©´ì—ì„œì˜ ì‚¬ìš©ì„ í™•ì¸í•´ë³´ì.

`ìœ„ì¹˜ ì •ë³´ ì…ë ¥ í™”ë©´`ì—ì„œëŠ” ì‚¬ìš©ìê°€ ìì‹ ì˜ ìœ„ì¹˜ì™€ ì¹œêµ¬ë“¤ì˜ ìœ„ì¹˜ ì •ë³´ë¥¼ ëª¨ë‘ ë³¼ ìˆ˜ ìˆë„ë¡ ë°”í…€ ì‹œíŠ¸ì˜ ì´ˆê¸° ë†’ì´ë¥¼ 60%ë¡œ ì„¤ì •í–ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì§€ë„ë„ ë³¼ ìˆ˜ ìˆìœ¼ë©´ì„œ ë™ì‹œì— ì¶©ë¶„í•œ ì •ë³´ë„ í‘œì‹œí•  ìˆ˜ ìˆì—ˆë‹¤.

```javascript
<BottomSheet
  minHeight={60}
  maxHeight={90}
  initialHeight={60}
  headerHeight={40}
  onHeightChange={(height) => setBottomSheetHeight(height)}
>
  {/* ë‚´ìš© */}
</BottomSheet>
```

ë˜í•œ ë°”í…€ ì‹œíŠ¸ì˜ ë†’ì´ê°€ ë³€í•  ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” onHeightChange ì½œë°±ì„ í™œìš©í•´ ë‚´ë¶€ ìŠ¤í¬ë¡¤ ì˜ì—­ì˜ ë†’ì´ë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì •í–ˆë‹¤. ì´ëŠ” ë°”í…€ ì‹œíŠ¸ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ ë” ë§ì€ ì •ë³´ë¥¼ í•œ ë²ˆì— ë³¼ ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•¨ì´ì—ˆë‹¤.

```javascript
const getScrollAreaStyle = (bottomSheetHeight: number) => {
  const viewportHeight = window.innerHeight;
  const threshold = viewportHeight * 0.7;

  if (bottomSheetHeight <= threshold) {
    return 'max-h-[calc(100dvh-30rem)] overflow-y-auto';
  } else {
    return 'max-h-[calc(100dvh-7rem)] overflow-y-auto';
  }
};
```

`ì¥ì†Œ ì¶”ì²œ í™”ë©´`ì—ì„œëŠ” ì§€ë„ê°€ ì£¼ìš” ì½˜í…ì¸ ì˜€ê¸° ë•Œë¬¸ì—, ë°”í…€ ì‹œíŠ¸ì˜ ìµœì†Œ ë†’ì´ë¥¼ 10%ë¡œ ë‚®ê²Œ ì„¤ì •í–ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìê°€ í•„ìš”ì— ë”°ë¼ ì¶”ì²œ ì¥ì†Œ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©´ì„œë„, ì›í•  ë•ŒëŠ” ë°”í…€ ì‹œíŠ¸ë¥¼ ìµœì†Œí™”í•˜ì—¬ ì§€ë„ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.

```javascript
<BottomSheet minHeight={10} maxHeight={72} initialHeight={50}>
  {/* ë‚´ìš© */}
</BottomSheet>
```

`ë°”í…€ ì‹œíŠ¸ê°€ ì ìš©ëœ í™”ë©´`

<img src="./exam1.gif" alt="exam1" width="200" />

<img src="./exam2.gif" alt="exam2" width="200" />

## ğŸš€ ì„±ëŠ¥ì„ ê³ ë ¤í•œ ì„¤ê³„

ë°”í…€ ì‹œíŠ¸ëŠ” ë“œë˜ê·¸ ì œìŠ¤ì²˜ì™€ ì• ë‹ˆë©”ì´ì…˜ì´ ë§ì´ ë°œìƒí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ìµœì í™”ê°€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í–ˆë‹¤. íŠ¹íˆ ëª¨ë°”ì¼ í™˜ê²½ì—ì„œëŠ” ì‘ì€ ì§€ì—°ì´ë‚˜ ëŠê¹€ë„ ì‚¬ìš©ì ê²½í—˜ì— í° ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆê¸°ì— ë” ì‹ ê²½ì„ ì¨ì„œ ì„¤ê³„í–ˆë‹¤.

Reactì˜ ë Œë”ë§ íŠ¹ì„±ìƒ, ìƒíƒœ ë³€ê²½ì´ ìˆì„ ë•Œë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ëœë‹¤. ë“œë˜ê·¸ì™€ ê°™ì´ ë¹ˆë²ˆí•œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì—ì„œëŠ” ì´ëŸ¬í•œ ë¦¬ë Œë”ë§ì´ ì„±ëŠ¥ ì €í•˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í–ˆë‹¤.

> ë”°ë¼ì„œ ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ëª‡ ê°€ì§€ ìµœì í™” ê¸°ë²•ì„ ì ìš©í–ˆë‹¤.

ë¨¼ì €, ì•„ë˜ì™€ ê°™ì´ useCallbackì„ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í–ˆë‹¤. ì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ê°€ ìƒˆë¡œ ìƒì„±ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ì¤„ì´ê³ ì í–ˆë‹¤.

```javascript
const handleDrag = useCallback(
  (e: MouseEvent | TouchEvent) => {
    const clientY = 'touches' in e ? e.touches[0].clientY : e.clientY;
    const delta = startYRef.current - clientY;
    const newHeight = currentHeightRef.current + delta;

    if (newHeight < dvhToPixels(minHeight)) {
      setSheetHeight(dvhToPixels(minHeight));
    } else if (newHeight > dvhToPixels(maxHeight)) {
      setSheetHeight(dvhToPixels(maxHeight));
    } else {
      setSheetHeight(newHeight);
    }
  },
  [minHeight, maxHeight]
);
```

ìœ„ í•¨ìˆ˜ëŠ” ë°”í…€ ì‹œíŠ¸ë¥¼ ë“œë˜ê·¸í•  ë•Œ í˜¸ì¶œë˜ì–´ ë†’ì´ë¥¼ ì¡°ì ˆí•˜ëŠ” í•µì‹¬ ë¡œì§ì´ë‹¤. ì—¬ê¸°ì„œ `setSheetHeight`ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ReactëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•˜ê²Œ ëœë‹¤. ê°œë°œ ì´ˆê¸°ì—ëŠ” ë‹¨ìˆœíˆ ì´ í•¨ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ì„ ì–¸í–ˆì—ˆëŠ”ë°, í…ŒìŠ¤íŠ¸ ê³¼ì •ì—ì„œ ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.

ë¦¬ë Œë”ë§ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ í•¨ìˆ˜ë“¤ì´ ëª¨ë‘ ìƒˆë¡œ ìƒì„±ëœë‹¤ëŠ” Reactì˜ íŠ¹ì„± ë•Œë¬¸ì—, ë“œë˜ê·¸ ì¤‘ì— ì´ˆë‹¹ ìˆ˜ì‹­ ë²ˆì”© ìƒˆë¡œìš´ í•¨ìˆ˜ê°€ ìƒì„±ë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤. ì´ëŠ” ë‘ ê°€ì§€ ì¸¡ë©´ì—ì„œ ì¢‹ì§€ ì•Šì•˜ë‹¤.

ì²«ì§¸, ë©”ëª¨ë¦¬ ì‚¬ìš© ì¸¡ë©´ì—ì„œ ë¹„íš¨ìœ¨ì ì´ì—ˆë‹¤. ë“œë˜ê·¸ í•˜ëŠ” ë™ì•ˆ ê³„ì†í•´ì„œ ìƒˆë¡œìš´ í•¨ìˆ˜ ê°ì²´ê°€ ìƒì„±ë˜ê³  ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ëŒ€ìƒì´ ë˜ê¸° ë•Œë¬¸ì—, íŠ¹íˆ ì €ì‚¬ì–‘ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œëŠ” ëˆˆì— ë„ëŠ” ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí–ˆë‹¤.

ë‘˜ì§¸, ë” ì‹¬ê°í•œ ë¬¸ì œëŠ” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ê´€ë¦¬ì— ìˆì—ˆë‹¤. ë“œë˜ê·¸ë¥¼ ì‹œì‘í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ì „ì—­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í–ˆë‹¤.

```javascript
const handleDragStart = useCallback(
  (e: MouseEvent | TouchEvent) => {
    startYRef.current = clientY;
    currentHeightRef.current = sheetHeight;

    document.addEventListener('mousemove', handleDrag);
    document.addEventListener('mouseup', handleDragEnd);
    document.addEventListener('touchmove', handleDrag);
    document.addEventListener('touchend', handleDragEnd);
  },
  [sheetHeight]
);

const handleDragEnd = useCallback(() => {
  document.removeEventListener('mousemove', handleDrag);
  document.removeEventListener('mouseup', handleDragEnd);
  document.removeEventListener('touchmove', handleDrag);
  document.removeEventListener('touchend', handleDragEnd);
}, [handleDrag]);
```

ì—¬ê¸°ì„œ ë¬¸ì œëŠ” useCallback ì—†ì´ êµ¬í˜„í–ˆì„ ë•Œ, ë“œë˜ê·¸ ì¤‘ ë¦¬ë Œë”ë§ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ `handleDrag`ê°€ ìƒˆë¡œìš´ í•¨ìˆ˜ ê°ì²´ë¡œ ìƒì„±ëœë‹¤ëŠ” ì ì´ë‹¤. JavaScriptì—ì„œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” í•¨ìˆ˜ì˜ ì°¸ì¡° ë™ë“±ì„±ì„ ê¸°ì¤€ìœ¼ë¡œ ì‹ë³„ë˜ê¸° ë•Œë¬¸ì—, `handleDragEnd`ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì œê±°í•˜ë ¤ê³  í•´ë„ ì›ë˜ ë“±ë¡í–ˆë˜ í•¨ìˆ˜ì™€ ë‹¤ë¥¸ ê°ì²´ë¼ì„œ ì œëŒ€ë¡œ ì œê±°ë˜ì§€ ì•Šì•˜ë‹¤.

í…ŒìŠ¤íŠ¸ ì¤‘ì— ì´ ë¬¸ì œë¥¼ ë°œê²¬í–ˆì„ ë•ŒëŠ” ë‹¹í™©ìŠ¤ëŸ¬ì› ë‹¤. ì‚¬ìš©ìê°€ ë°”í…€ ì‹œíŠ¸ë¥¼ ì—¬ëŸ¬ ë²ˆ ë“œë˜ê·¸í• ìˆ˜ë¡ ì œê±°ë˜ì§€ ì•Šì€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ê³„ì† ëˆ„ì ë˜ê³ , ê²°êµ­ ê°™ì€ ë“œë˜ê·¸ ë™ì‘ì— ì—¬ëŸ¬ í•¸ë“¤ëŸ¬ê°€ ë°˜ì‘í•˜ëŠ” ì´ìƒ í˜„ìƒì´ ë‚˜íƒ€ë‚¬ë‹¤. ì´ëŠ” ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¿ë§Œ ì•„ë‹ˆë¼ ì˜ëª»ëœ ë™ì‘ìœ¼ë¡œ ì´ì–´ì§€ê³  ìˆì—ˆë‹¤.

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ useCallbackì„ ì ìš©í–ˆê³ , ì¢…ì†ì„± ë°°ì—´ì„ [minHeight, maxHeight]ë¡œ ì„¤ì •í–ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì´ ë‘ ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ í•­ìƒ ë™ì¼í•œ í•¨ìˆ˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìœ ì§€ë˜ë¯€ë¡œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì˜ ë“±ë¡ê³¼ ì œê±°ê°€ ì •í™•íˆ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆì—ˆë‹¤.

## ğŸŒˆ useRefë¡œ ë¶ˆí•„ìš”í•œ ìƒíƒœ ì—…ë°ì´íŠ¸ ë°©ì§€í•˜ê¸°

ë“œë˜ê·¸ ê¸°ëŠ¥ì„ ìµœì í™”í•˜ëŠ” ê³¼ì •ì—ì„œëŠ” ë“œë˜ê·¸ ìƒíƒœë¥¼ ì¶”ì í•˜ëŠ” ë³€ìˆ˜ë“¤ì— useState ëŒ€ì‹  useRefë¥¼ ì‚¬ìš©í–ˆë‹¤.

```javascript
const startYRef = useRef < number > 0;
const currentHeightRef = useRef < number > initialHeight;
```

ì²˜ìŒì—ëŠ” ë‹¨ìˆœíˆ stateë¥¼ ì‚¬ìš©í•´ ë“œë˜ê·¸ ìœ„ì¹˜ë¥¼ ì¶”ì í•˜ë ¤ê³  í–ˆë‹¤. í•˜ì§€ë§Œ React Profilerë¥¼ í†µí•´ í™•ì¸í•´ë³¸ ê²°ê³¼, ë“œë˜ê·¸í•˜ëŠ” ë™ì•ˆ ì†ê°€ë½ ìœ„ì¹˜ì™€ í˜„ì¬ ì‹œíŠ¸ ë†’ì´ê°€ ê³„ì† ë³€í•˜ë©´ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ì—°ì‡„ì ìœ¼ë¡œ ë°œìƒí–ˆê³ , ì´ëŠ” ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œì¼°ë‹¤.

useRefì˜ ê°€ì¥ í° ì¥ì ì€ ê°’ì´ ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ì„ ìœ ë°œí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ ë“œë˜ê·¸ ì¤‘ê°„ ê³¼ì •ì—ì„œëŠ” useRefë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ ë°”í…€ ì‹œíŠ¸ì˜ ë†’ì´ê°€ ê²°ì •ë˜ì—ˆì„ ë•Œë§Œ setSheetHeightë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹¤ì œ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ë„ë¡ ì„¤ê³„í–ˆë‹¤.

> ì´ëŸ¬í•œ ìµœì í™” ì‘ì—… ë•ë¶„ì— ë¶€ë“œëŸ¬ìš´ ë“œë˜ê·¸ ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆì—ˆë‹¤.

íŠ¹íˆ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì¤‘ì— êµ¬í˜• ì•ˆë“œë¡œì´ë“œ ê¸°ê¸°ì—ì„œë„ ë°”í…€ ì‹œíŠ¸ê°€ ë¶€ë“œëŸ½ê²Œ ì›€ì§ì´ëŠ” ê²ƒì„ ë³´ì•˜ì„ ë•Œ ë¿Œë“¯í•¨ì„ ëŠê¼ˆë‹¤. ì‚¬ìš©ì ì¸í„°ë™ì…˜ì´ ë§ì€ UI ì»´í¬ë„ŒíŠ¸ë¥¼ ê°œë°œí•  ë•ŒëŠ” ë‹¨ìˆœíˆ 'ì‘ë™í•˜ê²Œ ë§Œë“œëŠ” ê²ƒ'ì„ ë„˜ì–´ì„œ, ì–´ë–»ê²Œ í•˜ë©´ ë” ìì—°ìŠ¤ëŸ½ê³  ë¶€ë“œëŸ¬ìš´ ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ëŠ” ê±¸ ë‹¤ì‹œ í•œë²ˆ ê¹¨ë‹¬ì•˜ë‹¤.

## ğŸ”„ ë¯¸ë˜ë¥¼ ìœ„í•œ í™•ì¥ì„± ê³ ë ¤

í˜„ì¬ ë°”í…€ ì‹œíŠ¸ êµ¬í˜„ì€ ê¸°ë³¸ì ì¸ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ì§€ë§Œ, ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ëª‡ ê°€ì§€ ê°œì„  ì‚¬í•­ì„ ê³ ë ¤í•˜ê³  ìˆë‹¤.

ì²«ë²ˆì§¸ë¡œ ìŠ¤ëƒ… í¬ì¸íŠ¸ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤. í˜„ì¬ëŠ” ì‚¬ìš©ìê°€ ë“œë˜ê·¸ë¥¼ ë©ˆì¶˜ ìœ„ì¹˜ì— ë°”í…€ ì‹œíŠ¸ê°€ ê·¸ëŒ€ë¡œ ë©ˆì¶”ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì´ ë¯¸ë¦¬ ì •ì˜ëœ íŠ¹ì • ë†’ì´(ì˜ˆ: 30%, 50%, 80%)ì— ìë™ìœ¼ë¡œ ìŠ¤ëƒ…ë˜ë„ë¡ ê°œì„ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

```javascript
const handleDragEnd = useCallback(() => {
  // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
  document.removeEventListener('mousemove', handleDrag);
  document.removeEventListener('mouseup', handleDragEnd);
  document.removeEventListener('touchmove', handleDrag);
  document.removeEventListener('touchend', handleDragEnd);

  // ê°€ì¥ ê°€ê¹Œìš´ ìŠ¤ëƒ… í¬ì¸íŠ¸ ê³„ì‚°
  const snapPoints = [
    dvhToPixels(minHeight),
    dvhToPixels((minHeight + maxHeight) / 2),
    dvhToPixels(maxHeight),
  ];

  const closestSnapPoint = snapPoints.reduce((prev, curr) =>
    Math.abs(curr - sheetHeight) < Math.abs(prev - sheetHeight) ? curr : prev
  );

  // ìŠ¤ëƒ… í¬ì¸íŠ¸ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì´ë™
  setSheetHeight(closestSnapPoint);
}, [handleDrag, sheetHeight, minHeight, maxHeight]);
```

ë‘ë²ˆì§¸ë¡œëŠ” ìŠ¤ì™€ì´í”„ ë‹¤ìš´ìœ¼ë¡œ ë°”í…€ ì‹œíŠ¸ë¥¼ ì™„ì „íˆ ë‹«ì„ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤. ì‚¬ìš©ìê°€ ë°”í…€ ì‹œíŠ¸ë¥¼ ìµœì†Œ ë†’ì´ ì´í•˜ë¡œ ìŠ¤ì™€ì´í”„ ë‹¤ìš´í•˜ë©´ ì‹œíŠ¸ê°€ ì™„ì „íˆ ì‚¬ë¼ì§€ë„ë¡ í•˜ì—¬ ë” ìì—°ìŠ¤ëŸ½ê²Œ ë§Œë“¤ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ë“œë˜ê·¸ ì†ë„ì— ë”°ë¥¸ ê´€ì„± ìŠ¤í¬ë¡¤ì„ ì¶”ê°€í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. í˜„ì¬ëŠ” ì‚¬ìš©ìê°€ ë“œë˜ê·¸ë¥¼ ë©ˆì¶”ë©´ ë°”í…€ ì‹œíŠ¸ë„ ì¦‰ì‹œ ë©ˆì¶”ì§€ë§Œ, ë“œë˜ê·¸ ì†ë„ì— ë”°ë¼ ì¼ì • ê±°ë¦¬ë¥¼ ë” ì›€ì§ì´ê²Œ í•˜ë©´ ë” ìì—°ìŠ¤ëŸ¬ìš´ ëŠë‚Œì„ ì¤„ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°í–ˆë‹¤.

ë”°ë¼ì„œ ì´ë¥¼ ìœ„í•´ ë“œë˜ê·¸ ì¤‘ ì†ë„ë¥¼ ê³„ì‚°í•˜ê³ , ë“œë˜ê·¸ê°€ ëë‚¬ì„ ë•Œ ê·¸ ì†ë„ì— ë¹„ë¡€í•´ ì¶”ê°€ ì›€ì§ì„ì„ ì ìš©í•˜ì—¬ ê°œì„ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

## ğŸ™‡â€â™‚ï¸ ë§ˆì¹˜ë©°

ë°”í…€ ì‹œíŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ë©´ì„œ ë§ì€ ê³ ë¯¼ê³¼ ì‹œí–‰ì°©ì˜¤ê°€ ìˆì—ˆë‹¤. ì‚¬ìš©ì ì œìŠ¤ì²˜ ì²˜ë¦¬, ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ, ì„±ëŠ¥ ìµœì í™” ë“± ì—¬ëŸ¬ ë„ì „ ê³¼ì œë¥¼ í•´ê²°í•´ë‚˜ê°€ëŠ” ê³¼ì •ì€ ì‰½ì§€ ì•Šì•˜ì§€ë§Œ, ê²°ê³¼ì ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì§ê´€ì ì´ê³  ìœ ì—°í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

ë˜, useBottomSheet í›…ìœ¼ë¡œ ë³µì¡í•œ ë“œë˜ê·¸ ë¡œì§ì„ ìº¡ìŠí™”í•˜ê³  ë°”í…€ ì‹œíŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” UI í‘œí˜„ì—ë§Œ ì§‘ì¤‘í•˜ë„ë¡ í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì™€ ë¡œì§ì„ ë¶„ë¦¬í•˜ì˜€ê³  ì´ë¥¼ í†µí•´ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê²½í—˜ì´ì—ˆë‹¤.
